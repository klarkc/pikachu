<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">

<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../pik-button/pik-button-profile.html">

<dom-module id="pik-card-projeto" include="iron-flex">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        @apply(--paper-font-common-base);
      }

      paper-material {
        @apply(--layout-fit);
        @apply(--layout-vertical);
        overflow: hidden;
      }

      paper-material .card-header {
        @apply(--layout-flex);
        @apply(--layout-vertical);
        position: relative;
      }

      paper-material .card-header iron-image {
        @apply(--layout-fit);
        z-index: -1;
      }

      paper-material .specs {
        @apply(--layout-flex);
        color: #FFF;
      }

      paper-material .card-header .title-text {
        margin: 0;
        padding: 16px;
        background: -webkit-linear-gradient(bottom,rgba(0,0,0,0), rgba(0,0,0,0.3)); /*Safari 5.1-6*/
        background: -o-linear-gradient(bottom,rgba(0,0,0,0), rgba(0,0,0,0.3)); /*Opera 11.1-12*/
        background: -moz-linear-gradient(bottom,rgba(0,0,0,0), rgba(0,0,0,0.3)); /*Fx 3.6-15*/
        background: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.3)); /*Standard*/
        font-size: 24px;
        font-weight: 400;
        color: var(--pik-card-header-color, #FFF);
      }

      paper-material .card-actions {
        @apply(--layout-horizontal);
        @apply(--layout-center);
      }

      paper-material .card-actions pik-button-profile {
        @apply(--layout-flex);
      }

    </style>

    <paper-material elevation="1">
      <div class="card-header">
        <iron-image src="{{projeto.thumbnail}}" sizing="cover"></iron-image>

        <div class="specs">
          <template is="dom-repeat" items="{{projeto.specs}}" as="spec">
            <div>{{spec.title}}</div>
          </template>
        </div>

        <div class="title-text">{{projeto.title}}</div>
      </div>

      <div class="card-actions">
        <pik-button-profile user="{{projeto.user}}" show-nickname></pik-button-profile>
        <paper-button noink>
          <iron-icon icon="visibility"></iron-icon>
          {{projeto.views}}
        </paper-button>
        <paper-button noink>
          <iron-icon icon="favorite-border"></iron-icon>
          {{projeto.favorites}}
        </paper-button>
      </div>
    </paper-material>
  </template>

  <script>
    Polymer({
      is: 'pik-card-projeto',

      properties: {
        projeto: Object
      }
    });
  </script>
</dom-module>
